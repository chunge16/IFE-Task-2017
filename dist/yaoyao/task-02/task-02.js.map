{"version":3,"sources":["../../../yaoyao/task-02/task-02.js"],"names":["window","onload","addClass","el","csName","hasClass","className","removeClass","re","RegExp","replace","match","isASCII","char","codePointAt","getStrLength","str","enlen","zhlen","verifyStyle","obj","isok","getFocus","e","text","parentElement","innerText","outFocus","test","isOK","init","name","document","getElementById","Password","Password2","email","phone","form","querySelectorAll","nameHint","getElementsByClassName","PasswordHint","Password2Hint","emailHint","phoneHint","submit","pwdRe","emailRe","phoneRe","onfocus","onblur","value","strLength","minLen","maxLen","trim","value2","onclick","Array","from","forEach","val","alert"],"mappings":"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","file":"task-02.js","sourcesContent":["/**\n * Created by shi on 2017/4/14.\n */\nwindow.onload = function () {\n\n    //元素添加class\n    function addClass(el,csName) {\n        if(!hasClass(el,csName)){\n            el.className += ' ' + csName;\n        }\n    }\n\n    //元素删除class\n    function removeClass(el,csName) {\n        const re = new RegExp('(\\\\s|^)'+csName+'(\\\\s|$)');\n        if(hasClass(el,csName)){\n            el.className = el.className.replace(re,'');\n        }\n    }\n\n    //class是否重复\n    function hasClass(el,csName) {\n        //公共常量定义\n        const re = new RegExp('(\\\\s|^)'+csName+'(\\\\s|$)');\n\n        if(el.className.match(re)){\n            return true;\n        }\n        else {\n            return false;\n        }\n    }\n\n    //是否是ASCII\n    function isASCII(char) {\n        return char.codePointAt(0) <= 0xFF;\n    }\n\n    //验证名称格式和长度\n    function getStrLength(str) {\n        let enlen = 0,\n            zhlen = 0;\n        for(let char of str){\n            if(isASCII(char)){\n                enlen++;\n            }\n            else {\n                zhlen++;\n            }\n        }\n        return enlen + zhlen*2;\n    }\n\n    //验证样式变化\n    function verifyStyle(obj,isok) {\n\n        if(isok){\n            removeClass(obj,'has-error');\n            addClass(obj,'has-success');\n        }\n        else {\n            removeClass(obj,'has-success');\n            addClass(obj,'has-error');\n        }\n    }\n\n    //获得焦点\n    function getFocus (e,text) {\n        removeClass(e.parentElement,'has-success');\n        removeClass(e.parentElement,'has-error');\n        if(e&&text){\n            e.innerText = text;\n        }\n\n    }\n    //失去焦点\n    function outFocus(e,test,isOK) {\n        if(isOK){\n            verifyStyle(e.parentElement,false);\n            e.innerText = test;\n        }\n        else {\n            verifyStyle(e.parentElement,true);\n            e.innerText = test;\n        }\n\n    }\n\n    function init() {\n        let name = document.getElementById('name'),\n            Password = document.getElementById('Password'),\n            Password2 = document.getElementById('Password2'),\n            email = document.getElementById('email'),\n            phone = document.getElementById('phone'),\n            form = document.querySelectorAll('.group');\n\n\n        let nameHint = document.getElementsByClassName('name-hint')[0],\n            PasswordHint = document.getElementsByClassName('Password-hint')[0],\n            Password2Hint = document.getElementsByClassName('Password2-hint')[0],\n            emailHint = document.getElementsByClassName('email-hint')[0],\n            phoneHint = document.getElementsByClassName('phone-hint')[0],\n            submit = document.getElementsByClassName('btn-submit')[0];\n\n        const pwdRe = /^\\d{6}$/,\n            emailRe = /^\\w+([-+.]\\w+)*@\\w+([-.]\\w+)*\\.\\w+([-.]\\w+)*$/,\n            phoneRe = /^(13[0-9]|14[5|7]|15[0-9]|18[0-9])\\d{8}$/;\n\n        //获得焦点\n        name.onfocus = function () {\n            let text = '字符长度4-16位';\n            getFocus(nameHint,text);\n        }\n\n        Password.onfocus = function () {\n            let text = '6位数字';\n            getFocus(PasswordHint,text);\n        }\n\n        Password2.onfocus = function () {\n            let text = '再次输入相同密码';\n            getFocus(Password2Hint,text);\n        }\n\n        email.onfocus = function () {\n            let text = '正确的邮箱格式';\n\n            getFocus(emailHint,text);\n        }\n\n        phone.onfocus = function () {\n            let text = '11位手机号码';\n            getFocus(phoneHint,text);\n        }\n\n        //失去焦点\n        name.onblur = function () {\n            let value = name.value,\n                strLength = getStrLength(value);\n\n            const minLen = 4,\n                maxLen = 16;\n\n            if(strLength === 0 || value === null || value === ''){\n                verifyStyle(nameHint.parentElement,false);\n                //HTML DOM classList 属性 支持添加class和删除class，但是注意兼容性IE10以上\n                // form.classList.add('has-error');\n                // form.classList.remove('has-success');\n                nameHint.innerText = '输入不能为空！';\n            }\n            else if(strLength < minLen){\n                verifyStyle(nameHint.parentElement,false);\n                nameHint.innerText = '字符长度不能小于4！';\n            }\n            else if(strLength > maxLen){\n                verifyStyle(nameHint.parentElement,false);\n                nameHint.innerText = '字符长度不能大于16！';\n\n            }\n            else {\n                verifyStyle(nameHint.parentElement,true);\n                nameHint.innerText = '恭喜你，输入格式正确！';\n\n            }\n        }\n\n        Password.onblur = function () {\n            let value = Password.value.trim();\n            \n            if(!value){\n                verifyStyle(PasswordHint.parentElement,false);\n                PasswordHint.innerText = '输入不能为空';\n            }\n            else if(!pwdRe.test(value)){\n                verifyStyle(PasswordHint.parentElement,false);\n                PasswordHint.innerText = '密码不可用';\n            }\n            else if(pwdRe.test(value)){\n                verifyStyle(PasswordHint.parentElement,true);\n                PasswordHint.innerText = '密码可用';\n            }\n\n        }\n        \n        Password2.onblur = function () {\n            let value2 = Password2.value.trim(),\n                value = Password.value.trim();\n\n            if(!value2){\n                verifyStyle(Password2Hint.parentElement,false);\n                Password2Hint.innerText = '输入不能为空';\n            }\n            else if(!pwdRe.test(value2)){\n                verifyStyle(Password2Hint.parentElement,false);\n                Password2Hint.innerText = '密码格式不对';\n            }\n            else if(value !== value2){\n                verifyStyle(Password2Hint.parentElement,false);\n                Password2Hint.innerText = '密码输入不一致';\n            }\n            else if(pwdRe.test(value2) && value === value2){\n                verifyStyle(Password2Hint.parentElement,true);\n                Password2Hint.innerText = '密码输入一致';\n            }\n\n        }\n\n        email.onblur = function () {\n            let value = email.value;\n\n            if(!value){\n                verifyStyle(emailHint.parentElement,false);\n                emailHint.innerText = '输入不能为空';\n            }\n            else if(!emailRe.test(value)){\n                verifyStyle(emailHint.parentElement,false);\n                emailHint.innerText = \"邮箱格式不对\";\n            }\n            else if(emailRe.test(value)){\n                verifyStyle(emailHint.parentElement,true);\n                emailHint.innerText = '邮箱格式正确';\n            }\n\n        }\n\n        phone.onblur = function () {\n            let value = phone.value;\n\n            if(!value){\n                verifyStyle(phoneHint.parentElement,false);\n                phoneHint.innerText = '输入不能为空';\n            }\n            else if(!phoneRe.test(value)){\n                verifyStyle(phoneHint.parentElement,false);\n                phoneHint.innerText = \"手机格式不对\";\n            }\n            else if(phoneRe.test(value)){\n                verifyStyle(phoneHint.parentElement,true);\n                phoneHint.innerText = '手机格式正确';\n            }\n\n        }\n\n        let isok = true;\n\n            //submit\n        submit.onclick = function () {\n            let isok = true;\n\n            name.onblur();\n            Password.onblur();\n            Password2.onblur();\n            email.onblur();\n            phone.onblur();\n\n            form = Array.from(form);\n\n            form.forEach(function (val) {\n                if(hasClass(val,'has-error')){\n                    isok = false;\n                }\n\n            });\n\n\n            if(isok){\n                alert('提交成功');\n            }\n            else {\n                alert('提交失败');\n            }\n\n\n        }\n\n\n\n\n\n\n\n        \n    }\n\n    init();\n    \n}"]}