{"version":3,"sources":["../../../yaoyao/task-02/task-02.js"],"names":["window","onload","addClass","el","csName","hasClass","className","removeClass","re","RegExp","replace","match","isASCII","char","codePointAt","getStrLength","str","enlen","zhlen","verifyStyle","obj","isok","getFocus","e","parentElement","nextElementSibling","style","display","init","name","document","getElementById","Password","rePassword","email","phone","form","querySelectorAll","inputs","Array","from","nameHint","getElementsByClassName","PasswordHint","rePasswordHint","emailHint","phoneHint","submit","pwdRe","emailRe","phoneRe","forEach","val","onfocus","onblur","value","strLength","minLen","maxLen","innerText","trim","test","value2","onclick","alert"],"mappings":";;AAAA;;;AAGAA,OAAOC,MAAP,GAAgB,YAAY;;AAExB;AACA,aAASC,QAAT,CAAkBC,EAAlB,EAAqBC,MAArB,EAA6B;AACzB,YAAG,CAACC,SAASF,EAAT,EAAYC,MAAZ,CAAJ,EAAwB;AACpBD,eAAGG,SAAH,IAAgB,MAAMF,MAAtB;AACH;AACJ;;AAED;AACA,aAASG,WAAT,CAAqBJ,EAArB,EAAwBC,MAAxB,EAAgC;AAC5B,YAAMI,KAAK,IAAIC,MAAJ,CAAW,YAAUL,MAAV,GAAiB,SAA5B,CAAX;AACA,YAAGC,SAASF,EAAT,EAAYC,MAAZ,CAAH,EAAuB;AACnBD,eAAGG,SAAH,GAAeH,GAAGG,SAAH,CAAaI,OAAb,CAAqBF,EAArB,EAAwB,EAAxB,CAAf;AACH;AACJ;;AAED;AACA,aAASH,QAAT,CAAkBF,EAAlB,EAAqBC,MAArB,EAA6B;AACzB;AACA,YAAMI,KAAK,IAAIC,MAAJ,CAAW,YAAUL,MAAV,GAAiB,SAA5B,CAAX;;AAEA,YAAGD,GAAGG,SAAH,CAAaK,KAAb,CAAmBH,EAAnB,CAAH,EAA0B;AACtB,mBAAO,IAAP;AACH,SAFD,MAGK;AACD,mBAAO,KAAP;AACH;AACJ;;AAED;AACA,aAASI,OAAT,CAAiBC,IAAjB,EAAuB;AACnB,eAAOA,KAAKC,WAAL,CAAiB,CAAjB,KAAuB,IAA9B;AACH;;AAED;AACA,aAASC,YAAT,CAAsBC,GAAtB,EAA2B;AACvB,YAAIC,QAAQ,CAAZ;AAAA,YACIC,QAAQ,CADZ;AADuB;AAAA;AAAA;;AAAA;AAGvB,iCAAgBF,GAAhB,8HAAoB;AAAA,oBAAZH,IAAY;;AAChB,oBAAGD,QAAQC,IAAR,CAAH,EAAiB;AACbI;AACH,iBAFD,MAGK;AACDC;AACH;AACJ;AAVsB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAWvB,eAAOD,QAAQC,QAAM,CAArB;AACH;;AAED;AACA,aAASC,WAAT,CAAqBC,GAArB,EAAyBC,IAAzB,EAA+B;;AAE3B,YAAGA,IAAH,EAAQ;AACJd,wBAAYa,GAAZ,EAAgB,WAAhB;AACAlB,qBAASkB,GAAT,EAAa,aAAb;AACH,SAHD,MAIK;AACDb,wBAAYa,GAAZ,EAAgB,aAAhB;AACAlB,qBAASkB,GAAT,EAAa,WAAb;AACH;AACJ;;AAED;AACA,aAASE,QAAT,CAAmBC,CAAnB,EAAsB;AAClBhB,oBAAYgB,EAAEC,aAAd,EAA4B,aAA5B;AACAjB,oBAAYgB,EAAEC,aAAd,EAA4B,WAA5B;AACA,YAAGD,CAAH,EAAK;AACDA,cAAEC,aAAF,CAAgBC,kBAAhB,CAAmCC,KAAnC,CAAyCC,OAAzC,GAAmD,OAAnD;AACH;AAEJ;;AAED,aAASC,IAAT,GAAgB;AACZ,YAAIC,OAAOC,SAASC,cAAT,CAAwB,MAAxB,CAAX;AAAA,YACIC,WAAWF,SAASC,cAAT,CAAwB,UAAxB,CADf;AAAA,YAEIE,aAAaH,SAASC,cAAT,CAAwB,YAAxB,CAFjB;AAAA,YAGIG,QAAQJ,SAASC,cAAT,CAAwB,OAAxB,CAHZ;AAAA,YAIII,QAAQL,SAASC,cAAT,CAAwB,OAAxB,CAJZ;AAAA,YAKIK,OAAON,SAASO,gBAAT,CAA0B,QAA1B,CALX;AAAA,YAMAC,SAASC,MAAMC,IAAN,CAAWV,SAASO,gBAAT,CAA0B,cAA1B,CAAX,CANT;;AAQA,YAAII,WAAWX,SAASY,sBAAT,CAAgC,WAAhC,EAA6C,CAA7C,CAAf;AAAA,YACIC,eAAeb,SAASY,sBAAT,CAAgC,eAAhC,EAAiD,CAAjD,CADnB;AAAA,YAEIE,iBAAiBd,SAASY,sBAAT,CAAgC,gBAAhC,EAAkD,CAAlD,CAFrB;AAAA,YAGIG,YAAYf,SAASY,sBAAT,CAAgC,YAAhC,EAA8C,CAA9C,CAHhB;AAAA,YAIII,YAAYhB,SAASY,sBAAT,CAAgC,YAAhC,EAA8C,CAA9C,CAJhB;AAAA,YAKIK,SAASjB,SAASY,sBAAT,CAAgC,YAAhC,EAA8C,CAA9C,CALb;;AAOA,YAAMM,QAAQ,SAAd;AAAA,YACIC,UAAU,+CADd;AAAA,YAEIC,UAAU,0CAFd;;AAIA;AACAZ,eAAOa,OAAP,CAAe,eAAM;AACjBC,gBAAIC,OAAJ,GAAc,YAAY;AACtB/B,yBAAS8B,GAAT;AACH,aAFD;AAGH,SAJD;;AAMA;AACAvB,aAAKyB,MAAL,GAAc,YAAY;AACtB,gBAAIC,QAAQ1B,KAAK0B,KAAjB;AAAA,gBACIC,YAAYzC,aAAawC,KAAb,CADhB;;AAGA,gBAAME,SAAS,CAAf;AAAA,gBACIC,SAAS,EADb;;AAGA,gBAAGF,cAAc,CAAd,IAAmBD,UAAU,IAA7B,IAAqCA,UAAU,EAAlD,EAAqD;AACjDpC,4BAAYsB,SAASjB,aAArB,EAAmC,KAAnC;AACA;AACA;AACA;AACAiB,yBAASkB,SAAT,GAAqB,SAArB;AACH,aAND,MAOK,IAAGH,YAAYC,MAAf,EAAsB;AACvBtC,4BAAYsB,SAASjB,aAArB,EAAmC,KAAnC;AACAiB,yBAASkB,SAAT,GAAqB,YAArB;AACH,aAHI,MAIA,IAAGH,YAAYE,MAAf,EAAsB;AACvBvC,4BAAYsB,SAASjB,aAArB,EAAmC,KAAnC;AACAiB,yBAASkB,SAAT,GAAqB,aAArB;AAEH,aAJI,MAKA;AACDxC,4BAAYsB,SAASjB,aAArB,EAAmC,IAAnC;AACAiB,yBAASkB,SAAT,GAAqB,aAArB;AAEH;AACJ,SA5BD;;AA8BA3B,iBAASsB,MAAT,GAAkB,YAAY;AAC1B,gBAAIC,QAAQvB,SAASuB,KAAT,CAAeK,IAAf,EAAZ;;AAEA,gBAAG,CAACL,KAAJ,EAAU;AACNpC,4BAAYwB,aAAanB,aAAzB,EAAuC,KAAvC;AACAmB,6BAAagB,SAAb,GAAyB,QAAzB;AACH,aAHD,MAIK,IAAG,CAACX,MAAMa,IAAN,CAAWN,KAAX,CAAJ,EAAsB;AACvBpC,4BAAYwB,aAAanB,aAAzB,EAAuC,KAAvC;AACAmB,6BAAagB,SAAb,GAAyB,OAAzB;AACH,aAHI,MAIA,IAAGX,MAAMa,IAAN,CAAWN,KAAX,CAAH,EAAqB;AACtBpC,4BAAYwB,aAAanB,aAAzB,EAAuC,IAAvC;AACAmB,6BAAagB,SAAb,GAAyB,MAAzB;AACH;AAEJ,SAhBD;;AAkBA1B,mBAAWqB,MAAX,GAAoB,YAAY;AAC5B,gBAAIQ,SAAS7B,WAAWsB,KAAX,CAAiBK,IAAjB,EAAb;AAAA,gBACIL,QAAQvB,SAASuB,KAAT,CAAeK,IAAf,EADZ;;AAGA,gBAAG,CAACE,MAAJ,EAAW;AACP3C,4BAAYyB,eAAepB,aAA3B,EAAyC,KAAzC;AACAoB,+BAAee,SAAf,GAA2B,QAA3B;AACH,aAHD,MAIK,IAAG,CAACX,MAAMa,IAAN,CAAWC,MAAX,CAAJ,EAAuB;AACxB3C,4BAAYyB,eAAepB,aAA3B,EAAyC,KAAzC;AACAoB,+BAAee,SAAf,GAA2B,QAA3B;AACH,aAHI,MAIA,IAAGJ,UAAUO,MAAb,EAAoB;AACrB3C,4BAAYyB,eAAepB,aAA3B,EAAyC,KAAzC;AACAoB,+BAAee,SAAf,GAA2B,SAA3B;AACH,aAHI,MAIA,IAAGX,MAAMa,IAAN,CAAWC,MAAX,KAAsBP,UAAUO,MAAnC,EAA0C;AAC3C3C,4BAAYyB,eAAepB,aAA3B,EAAyC,IAAzC;AACAoB,+BAAee,SAAf,GAA2B,QAA3B;AACH;AAEJ,SArBD;;AAuBAzB,cAAMoB,MAAN,GAAe,YAAY;AACvB,gBAAIC,QAAQrB,MAAMqB,KAAlB;;AAEA,gBAAG,CAACA,KAAJ,EAAU;AACNpC,4BAAY0B,UAAUrB,aAAtB,EAAoC,KAApC;AACAqB,0BAAUc,SAAV,GAAsB,QAAtB;AACH,aAHD,MAIK,IAAG,CAACV,QAAQY,IAAR,CAAaN,KAAb,CAAJ,EAAwB;AACzBpC,4BAAY0B,UAAUrB,aAAtB,EAAoC,KAApC;AACAqB,0BAAUc,SAAV,GAAsB,QAAtB;AACH,aAHI,MAIA,IAAGV,QAAQY,IAAR,CAAaN,KAAb,CAAH,EAAuB;AACxBpC,4BAAY0B,UAAUrB,aAAtB,EAAoC,IAApC;AACAqB,0BAAUc,SAAV,GAAsB,QAAtB;AACH;AAEJ,SAhBD;;AAkBAxB,cAAMmB,MAAN,GAAe,YAAY;AACvB,gBAAIC,QAAQpB,MAAMoB,KAAlB;;AAEA,gBAAG,CAACA,KAAJ,EAAU;AACNpC,4BAAY2B,UAAUtB,aAAtB,EAAoC,KAApC;AACAsB,0BAAUa,SAAV,GAAsB,QAAtB;AACH,aAHD,MAIK,IAAG,CAACT,QAAQW,IAAR,CAAaN,KAAb,CAAJ,EAAwB;AACzBpC,4BAAY2B,UAAUtB,aAAtB,EAAoC,KAApC;AACAsB,0BAAUa,SAAV,GAAsB,QAAtB;AACH,aAHI,MAIA,IAAGT,QAAQW,IAAR,CAAaN,KAAb,CAAH,EAAuB;AACxBpC,4BAAY2B,UAAUtB,aAAtB,EAAoC,IAApC;AACAsB,0BAAUa,SAAV,GAAsB,QAAtB;AACH;AAEJ,SAhBD;;AAmBA;AACAZ,eAAOgB,OAAP,GAAiB,YAAY;AACzB,gBAAI1C,OAAO,IAAX;;AAEAQ,iBAAKyB,MAAL;AACAtB,qBAASsB,MAAT;AACArB,uBAAWqB,MAAX;AACApB,kBAAMoB,MAAN;AACAnB,kBAAMmB,MAAN;;AAEAlB,mBAAOG,MAAMC,IAAN,CAAWJ,IAAX,CAAP;AACAA,iBAAKe,OAAL,CAAa,UAAUC,GAAV,EAAe;AACxB,oBAAG/C,SAAS+C,GAAT,EAAa,WAAb,CAAH,EAA6B;AACzB/B,2BAAO,KAAP;AACH;AAEJ,aALD;;AAOA,gBAAGA,IAAH,EAAQ;AACJ2C,sBAAM,MAAN;AACH,aAFD,MAGK;AACDA,sBAAM,MAAN;AACH;AAGJ,SAzBD;AAkCH;;AAEDpC;AAEH,CAxPD","file":"task-02.js","sourcesContent":["/**\n * Created by shi on 2017/4/14.\n */\nwindow.onload = function () {\n\n    //元素添加class\n    function addClass(el,csName) {\n        if(!hasClass(el,csName)){\n            el.className += ' ' + csName;\n        }\n    }\n\n    //元素删除class\n    function removeClass(el,csName) {\n        const re = new RegExp('(\\\\s|^)'+csName+'(\\\\s|$)');\n        if(hasClass(el,csName)){\n            el.className = el.className.replace(re,'');\n        }\n    }\n\n    //class是否重复\n    function hasClass(el,csName) {\n        //公共常量定义\n        const re = new RegExp('(\\\\s|^)'+csName+'(\\\\s|$)');\n\n        if(el.className.match(re)){\n            return true;\n        }\n        else {\n            return false;\n        }\n    }\n\n    //是否是ASCII\n    function isASCII(char) {\n        return char.codePointAt(0) <= 0xFF;\n    }\n\n    //验证名称格式和长度\n    function getStrLength(str) {\n        let enlen = 0,\n            zhlen = 0;\n        for(let char of str){\n            if(isASCII(char)){\n                enlen++;\n            }\n            else {\n                zhlen++;\n            }\n        }\n        return enlen + zhlen*2;\n    }\n\n    //验证样式变化\n    function verifyStyle(obj,isok) {\n\n        if(isok){\n            removeClass(obj,'has-error');\n            addClass(obj,'has-success');\n        }\n        else {\n            removeClass(obj,'has-success');\n            addClass(obj,'has-error');\n        }\n    }\n\n    //获得焦点\n    function getFocus (e) {\n        removeClass(e.parentElement,'has-success');\n        removeClass(e.parentElement,'has-error');\n        if(e){\n            e.parentElement.nextElementSibling.style.display = 'block';\n        }\n\n    }\n\n    function init() {\n        let name = document.getElementById('name'),\n            Password = document.getElementById('Password'),\n            rePassword = document.getElementById('rePassword'),\n            email = document.getElementById('email'),\n            phone = document.getElementById('phone'),\n            form = document.querySelectorAll('.group'),\n        inputs = Array.from(document.querySelectorAll('.group input'));\n\n        let nameHint = document.getElementsByClassName('name-hint')[0],\n            PasswordHint = document.getElementsByClassName('Password-hint')[0],\n            rePasswordHint = document.getElementsByClassName('rePasswordHint')[0],\n            emailHint = document.getElementsByClassName('email-hint')[0],\n            phoneHint = document.getElementsByClassName('phone-hint')[0],\n            submit = document.getElementsByClassName('btn-submit')[0];\n\n        const pwdRe = /^\\d{6}$/,\n            emailRe = /^\\w+([-+.]\\w+)*@\\w+([-.]\\w+)*\\.\\w+([-.]\\w+)*$/,\n            phoneRe = /^(13[0-9]|14[5|7]|15[0-9]|18[0-9])\\d{8}$/;\n\n        //获得焦点\n        inputs.forEach(val =>{\n            val.onfocus = function () {\n                getFocus(val);\n            };\n        })\n\n        //失去焦点\n        name.onblur = function () {\n            let value = name.value,\n                strLength = getStrLength(value);\n\n            const minLen = 4,\n                maxLen = 16;\n\n            if(strLength === 0 || value === null || value === ''){\n                verifyStyle(nameHint.parentElement,false);\n                //HTML DOM classList 属性 支持添加class和删除class，但是注意兼容性IE10以上\n                // form.classList.add('has-error');\n                // form.classList.remove('has-success');\n                nameHint.innerText = '输入不能为空！';\n            }\n            else if(strLength < minLen){\n                verifyStyle(nameHint.parentElement,false);\n                nameHint.innerText = '字符长度不能小于4！';\n            }\n            else if(strLength > maxLen){\n                verifyStyle(nameHint.parentElement,false);\n                nameHint.innerText = '字符长度不能大于16！';\n\n            }\n            else {\n                verifyStyle(nameHint.parentElement,true);\n                nameHint.innerText = '恭喜你，输入格式正确！';\n\n            }\n        }\n\n        Password.onblur = function () {\n            let value = Password.value.trim();\n            \n            if(!value){\n                verifyStyle(PasswordHint.parentElement,false);\n                PasswordHint.innerText = '输入不能为空';\n            }\n            else if(!pwdRe.test(value)){\n                verifyStyle(PasswordHint.parentElement,false);\n                PasswordHint.innerText = '密码不可用';\n            }\n            else if(pwdRe.test(value)){\n                verifyStyle(PasswordHint.parentElement,true);\n                PasswordHint.innerText = '密码可用';\n            }\n\n        }\n\n        rePassword.onblur = function () {\n            let value2 = rePassword.value.trim(),\n                value = Password.value.trim();\n\n            if(!value2){\n                verifyStyle(rePasswordHint.parentElement,false);\n                rePasswordHint.innerText = '输入不能为空';\n            }\n            else if(!pwdRe.test(value2)){\n                verifyStyle(rePasswordHint.parentElement,false);\n                rePasswordHint.innerText = '密码格式不对';\n            }\n            else if(value !== value2){\n                verifyStyle(rePasswordHint.parentElement,false);\n                rePasswordHint.innerText = '密码输入不一致';\n            }\n            else if(pwdRe.test(value2) && value === value2){\n                verifyStyle(rePasswordHint.parentElement,true);\n                rePasswordHint.innerText = '密码输入一致';\n            }\n\n        }\n\n        email.onblur = function () {\n            let value = email.value;\n\n            if(!value){\n                verifyStyle(emailHint.parentElement,false);\n                emailHint.innerText = '输入不能为空';\n            }\n            else if(!emailRe.test(value)){\n                verifyStyle(emailHint.parentElement,false);\n                emailHint.innerText = \"邮箱格式不对\";\n            }\n            else if(emailRe.test(value)){\n                verifyStyle(emailHint.parentElement,true);\n                emailHint.innerText = '邮箱格式正确';\n            }\n\n        }\n\n        phone.onblur = function () {\n            let value = phone.value;\n\n            if(!value){\n                verifyStyle(phoneHint.parentElement,false);\n                phoneHint.innerText = '输入不能为空';\n            }\n            else if(!phoneRe.test(value)){\n                verifyStyle(phoneHint.parentElement,false);\n                phoneHint.innerText = \"手机格式不对\";\n            }\n            else if(phoneRe.test(value)){\n                verifyStyle(phoneHint.parentElement,true);\n                phoneHint.innerText = '手机格式正确';\n            }\n\n        }\n        \n\n        //submit\n        submit.onclick = function () {\n            let isok = true;\n\n            name.onblur();\n            Password.onblur();\n            rePassword.onblur();\n            email.onblur();\n            phone.onblur();\n\n            form = Array.from(form);\n            form.forEach(function (val) {\n                if(hasClass(val,'has-error')){\n                    isok = false;\n                }\n\n            });\n\n            if(isok){\n                alert('提交成功');\n            }\n            else {\n                alert('提交失败');\n            }\n\n\n        }\n\n\n\n\n\n\n\n        \n    }\n\n    init();\n    \n}"]}