{"version":3,"sources":["../../../yaoyao/task-01/task-01.js"],"names":["window","onload","addClass","el","csName","hasClass","className","removeClass","re","RegExp","replace","match","isASCII","char","codePointAt","getStrLength","str","enlen","zhlen","init","document","querySelector","onclick","value","trim","form","hint","strLength","minLen","maxLen","innerText"],"mappings":"AAAA;;;AAGA;;AAGAA,OAAOC,MAAP,GAAgB,YAAY;AACxB;AACA,aAASC,QAAT,CAAkBC,EAAlB,EAAqBC,MAArB,EAA6B;AACzB,YAAG,CAACC,SAASF,EAAT,EAAYC,MAAZ,CAAJ,EAAwB;AACpBD,eAAGG,SAAH,IAAgB,MAAMF,MAAtB;AACH;AACJ;AACD;AACA,aAASG,WAAT,CAAqBJ,EAArB,EAAwBC,MAAxB,EAAgC;AAC5B,YAAII,KAAK,IAAIC,MAAJ,CAAW,YAAUL,MAAV,GAAiB,SAA5B,CAAT;AACA,YAAGC,SAASF,EAAT,EAAYC,MAAZ,CAAH,EAAuB;AACnBD,eAAGG,SAAH,GAAeH,GAAGG,SAAH,CAAaI,OAAb,CAAqBF,EAArB,EAAwB,GAAxB,CAAf;AACH;AACJ;AACD;AACA,aAASH,QAAT,CAAkBF,EAAlB,EAAqBC,MAArB,EAA6B;AACzB,eAAOD,GAAGG,SAAH,CAAaK,KAAb,CAAmB,IAAIF,MAAJ,CAAW,YAAUL,MAAV,GAAiB,SAA5B,CAAnB,CAAP;AACH;AACD;AACA,aAASQ,OAAT,CAAiBC,IAAjB,EAAuB;AACnB,eAAOA,KAAKC,WAAL,CAAiB,CAAjB,KAAuB,IAA9B;AACH;;AAED;AACA,aAASC,YAAT,CAAsBC,GAAtB,EAA2B;AACvB,YAAIC,QAAQ,CAAZ;AAAA,YACIC,QAAQ,CADZ;AADuB;AAAA;AAAA;;AAAA;AAGvB,iCAAgBF,GAAhB,8HAAoB;AAAA,oBAAZH,IAAY;;AAChB,oBAAGD,QAAQC,IAAR,CAAH,EAAiB;AACbI;AACH,iBAFD,MAGK;AACDC;AACH;AACJ;AAVsB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAWvB,eAAOD,QAAQC,QAAM,CAArB;AACH;;AAGD,aAASC,IAAT,GAAgB;AACZC,iBAASC,aAAT,CAAuB,SAAvB,EAAkCC,OAAlC,GAA4C,YAAY;AACpD,gBAAIC,QAAQH,SAASC,aAAT,CAAuB,cAAvB,EAAuCE,KAAvC,CAA6CC,IAA7C,EAAZ;AAAA,gBACIC,OAAOL,SAASC,aAAT,CAAuB,aAAvB,CADX;AAAA,gBAEIK,OAAON,SAASC,aAAT,CAAuB,aAAvB,CAFX;AAAA,gBAGIM,YAAYZ,aAAaQ,KAAb,CAHhB;;AAKA,gBAAMK,SAAS,CAAf;AAAA,gBACMC,SAAS,EADf;;AAGA,gBAAGF,cAAc,CAAd,IAAmBJ,UAAU,IAA7B,IAAqCA,UAAU,EAAlD,EAAqD;AACjDrB,yBAASuB,IAAT,EAAc,WAAd;AACAlB,4BAAYkB,IAAZ,EAAiB,aAAjB;;AAEA;AACA;AACA;;AAEAC,qBAAKI,SAAL,GAAiB,SAAjB;AACH,aATD,MAUK,IAAGH,YAAYC,MAAf,EAAsB;AACvB1B,yBAASuB,IAAT,EAAc,WAAd;AACAlB,4BAAYkB,IAAZ,EAAiB,aAAjB;AACAC,qBAAKI,SAAL,GAAiB,YAAjB;AACH,aAJI,MAKA,IAAGH,YAAYE,MAAf,EAAsB;AACvB3B,yBAASuB,IAAT,EAAc,WAAd;AACAlB,4BAAYkB,IAAZ,EAAiB,aAAjB;AACAC,qBAAKI,SAAL,GAAiB,aAAjB;AAEH,aALI,MAMA;AACD5B,yBAASuB,IAAT,EAAc,aAAd;AACAlB,4BAAYkB,IAAZ,EAAiB,WAAjB;AACAC,qBAAKI,SAAL,GAAiB,aAAjB;AAEH;AAEJ,SArCD;AAuCH;AACDX;AAGH,CAnFD","file":"task-01.js","sourcesContent":["/**\n * Created by shi on 2017/3/15.\n */\n'use strict';\n\n\nwindow.onload = function () {\n    //元素添加class\n    function addClass(el,csName) {\n        if(!hasClass(el,csName)){\n            el.className += \" \" + csName;\n        }\n    }\n    //元素删除class\n    function removeClass(el,csName) {\n        let re = new RegExp('(\\\\s|^)'+csName+'(\\\\s|$)');\n        if(hasClass(el,csName)){\n            el.className = el.className.replace(re,' ');\n        }\n    }\n    //class是否重复\n    function hasClass(el,csName) {\n        return el.className.match(new RegExp('(\\\\s|^)'+csName+'(\\\\s|$)'));\n    }\n    //是否是ASCII\n    function isASCII(char) {\n        return char.codePointAt(0) <= 0xFF;\n    }\n\n    //验证格式和长度\n    function getStrLength(str) {\n        let enlen = 0,\n            zhlen = 0;\n        for(let char of str){\n            if(isASCII(char)){\n                enlen++;\n            }\n            else {\n                zhlen++;\n            }\n        }\n        return enlen + zhlen*2;\n    }\n\n\n    function init() {\n        document.querySelector('.btn-ok').onclick = function () {\n            let value = document.querySelector('#inputVerify').value.trim(),\n                form = document.querySelector('.form-group'),\n                hint = document.querySelector('.help-block'),\n                strLength = getStrLength(value);\n\n            const minLen = 4,\n                  maxLen = 16;\n\n            if(strLength === 0 || value === null || value === ''){\n                addClass(form,'has-error');\n                removeClass(form,'has-success');\n\n                //HTML DOM classList 属性 支持添加class和删除class，但是注意兼容性IE10以上\n                // form.classList.add('has-error');\n                // form.classList.remove('has-success');\n\n                hint.innerText = '输入不能为空！';\n            }\n            else if(strLength < minLen){\n                addClass(form,'has-error');\n                removeClass(form,'has-success');\n                hint.innerText = '字符长度不能小于4！';\n            }\n            else if(strLength > maxLen){\n                addClass(form,'has-error');\n                removeClass(form,'has-success');\n                hint.innerText = '字符长度不能大于16！';\n\n            }\n            else {\n                addClass(form,'has-success');\n                removeClass(form,'has-error');\n                hint.innerText = '恭喜你，输入格式正确！';\n\n            }\n\n        }\n\n    }\n    init();\n\n\n}"]}