{"version":3,"sources":["../../../JavaScript/task-08/task-08.js"],"names":["window","onload","timer","BFindex","lock","traverseDF","node","nodeArr","push","i","children","length","traverseBF","nextElementSibling","firstElementChild","setAction","arr","key","iskey","setInterval","className","style","transform","clearInterval","firstChild","nodeValue","replace","traverse","traverseIndex","rootNode","Nodelist","setTimeout","document","getElementsByTagName","value","init","Btns","getElementById","onclick","alert"],"mappings":"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","file":"task-08.js","sourcesContent":["/**\n * Created by shi on 2017/4/5.\n */\n\n'use strict';\n\nwindow.onload = function () {\n\n    var timer = null,\n        BFindex = 0,//广度优先遍历自增标识符\n        lock = true;\n\n\n    //深度遍历\n    function traverseDF(node,nodeArr) {\n        if(node){\n            nodeArr.push(node);\n            for(let i = 0;i <  node.children.length;i++){\n                traverseDF(node.children[i],nodeArr);\n            }\n        }\n        \n    }\n\n    //广度遍历\n    function traverseBF(node,nodeArr) {\n        if(node){\n            nodeArr.push(node);\n            traverseBF(node.nextElementSibling,nodeArr);\n            node = nodeArr[BFindex++];\n            traverseBF(node.firstElementChild,nodeArr);\n\n        }\n    }\n\n\n    //动画\n    function setAction(arr,key,iskey) {\n        let i = 0;\n        timer = setInterval(function () {\n            if(i > arr.length -1 ){\n                arr[arr.length -1].className = \"default\";\n                arr[arr.length -1].style.transform = \"scale(1)\";\n                clearInterval(timer);\n                lock = true;\n            }\n            else {\n                if(i > 0){\n                    arr[i-1].className = '#default';\n                    arr[i-1].style.transform = \"scale(1)\";\n                }\n                arr[i].className = 'active';\n                arr[i].style.transform = \"scale(1.1)\";\n                //搜索\n                if(iskey&&arr[i].firstChild.nodeValue.replace(/(^\\s*)|(\\s*$)/g,\"\") === key){\n                    arr[i].className = 'found';\n                    clearInterval(timer);\n                    lock = true;\n                }\n\n            }\n            i++;\n        },500);\n    }\n\n    //btn事件\n    function traverse(traverseIndex,rootNode){\n        let Nodelist = [],\n            key = '';\n        lock = false;\n\n        switch(traverseIndex){\n            case 0:traverseDF(rootNode,Nodelist);\n                setTimeout(setAction(Nodelist,key),500);\n                break;\n            case 1:BFindex = 0;\n                traverseBF(rootNode,Nodelist);\n                setTimeout(setAction(Nodelist,key),500);\n                break;\n            case 2: key = document.getElementsByTagName(\"input\")[0].value;\n                traverseDF(rootNode,Nodelist);\n                setTimeout(setAction(Nodelist,key,true),500);\n                break;\n            case 3:BFindex = 0;\n                key = document.getElementsByTagName(\"input\")[0].value;\n                traverseBF(rootNode,Nodelist);\n                setTimeout(setAction(Nodelist,key,true),500);\n                break;\n        }\n    }\n\n\n    function init() {\n        let Btns = document.getElementsByTagName(\"button\"),\n            rootNode = document.getElementById(\"root\");\n\n        for(let i=0;i<Btns.length;i++){\n            (function(i){\n                Btns[i].onclick = function(){\n                    if(lock){\n                        traverse(i,rootNode);\n                    }\n                    else {\n                        window.alert(\"正在遍历中。。。,不要打扰我\");\n                    }\n                };\n            }(i));\n        }\n\n    }\n\n    init();\n\n\n\n}\n"]}