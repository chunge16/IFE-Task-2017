{"version":3,"sources":["../../../JavaScript/task-08/task-08.js"],"names":["window","onload","timer","BFindex","lock","preOrder","node","arr","push","len","children","length","i","inOrder","postOrder","traverseDF","nodeArr","traverseBF","nextElementSibling","firstElementChild","setAction","key","iskey","gotIt","setInterval","className","style","transform","clearInterval","alert","firstChild","nodeValue","replace","traverse","traverseIndex","rootNode","Nodelist","setTimeout","document","getElementsByTagName","value","init","Btns","getElementById","onclick"],"mappings":"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","file":"task-08.js","sourcesContent":["/**\n * Created by shi on 2017/4/5.\n */\n\n'use strict';\n\nwindow.onload = function () {\n\n    var timer = null,\n        BFindex = 0,//广度优先遍历自增标识符\n        lock = true;\n\n    //  前序\n    function preOrder(node,arr) {\n        if(node){\n            arr.push(node);\n            var len = node.children.length;\n            for(var i=0; i<len; i++){\n                preOrder(node.children[i]);\n            }\n        }\n    }\n    //中序\n    function inOrder(node,arr) {\n        if(node){\n            var len = node.children.length;\n            inOrder(node.children[0]);\n            arr.push(node);\n            for(var i=1; i<len; i++){\n                inOrder(node.children[i]);\n            }\n        }\n    }\n    //后序\n    function postOrder(node,arr) {\n        if(node){\n            var len = node.children.length;\n            for(var i=0; i<len; i++){\n                postOrder(node.children[i]);\n            }\n            arr.push(node);\n        }\n    }\n\n\n    //深度遍历\n    function traverseDF(node,nodeArr) {\n        if(node){\n            nodeArr.push(node);\n            for(let i = 0;i <  node.children.length;i++){\n                traverseDF(node.children[i],nodeArr);\n            }\n        }\n        \n    }\n\n    //广度遍历\n    function traverseBF(node,nodeArr) {\n        if(node){\n            nodeArr.push(node);\n            traverseBF(node.nextElementSibling,nodeArr);\n            node = nodeArr[BFindex++];\n            traverseBF(node.firstElementChild,nodeArr);\n\n        }\n    }\n\n    //动画\n    function setAction(arr,key,iskey) {\n        let i = 0,\n            gotIt = true;\n        timer = setInterval(function () {\n            if(i > arr.length -1 ){\n                arr[arr.length -1].className = \"default\";\n                arr[arr.length -1].style.transform = \"scale(1)\";\n                clearInterval(timer);\n                lock = true;\n                if(iskey && gotIt){\n                    alert('没有哦，亲！！！');\n                }\n            }\n            else {\n                if(i > 0){\n                    arr[i-1].className = '#default';\n                    arr[i-1].style.transform = \"scale(1)\";\n                }\n                arr[i].className = 'active';\n                arr[i].style.transform = \"scale(1.1)\";\n                //搜索\n\n                if(iskey&&arr[i].firstChild.nodeValue.replace(/(^\\s*)|(\\s*$)/g,\"\") === key){  //去字符串两边空格\n                    arr[i].className = 'found';\n                    clearInterval(timer);\n                    lock = true;\n                    gotIt = false;\n                }\n\n\n            }\n            i++;\n        },500);\n\n    }\n\n  //btn事件\n    function traverse(traverseIndex,rootNode){\n        let Nodelist = [],\n            key = '';\n        lock = false;\n\n        switch(traverseIndex){\n            case 0:traverseDF(rootNode,Nodelist);\n                setTimeout(setAction(Nodelist,key),500);\n                break;\n            case 1:BFindex = 0;\n                traverseBF(rootNode,Nodelist);\n                setTimeout(setAction(Nodelist,key),500);\n                break;\n            case 2: key = document.getElementsByTagName(\"input\")[0].value;\n                traverseDF(rootNode,Nodelist);\n                setTimeout(setAction(Nodelist,key,true),500);\n                break;\n            case 3:BFindex = 0;\n                key = document.getElementsByTagName(\"input\")[0].value;\n                traverseBF(rootNode,Nodelist);\n                setTimeout(setAction(Nodelist,key,true),500);\n                break;\n        }\n    }\n\n\n    function init() {\n        let Btns = document.getElementsByTagName(\"button\"),\n            rootNode = document.getElementById(\"root\");\n\n        for(let i=0;i<Btns.length;i++){\n            (function(i){\n                Btns[i].onclick = function(){\n                    if(lock){\n                        traverse(i,rootNode);\n                    }\n                    else {\n                        window.alert(\"正在遍历中。。。,不要打扰我\");\n                    }\n                };\n            }(i));\n        }\n\n    }\n\n    init();\n\n\n\n}\n"]}