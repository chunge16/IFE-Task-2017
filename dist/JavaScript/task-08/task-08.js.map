{"version":3,"sources":["../../../JavaScript/task-08/task-08.js"],"names":["window","onload","timer","BFindex","lock","traverseDF","node","nodeArr","push","i","children","length","traverseBF","nextElementSibling","firstElementChild","setAction","arr","key","iskey","gotIt","setInterval","className","style","transform","clearInterval","alert","firstChild","nodeValue","replace","traverse","traverseIndex","rootNode","Nodelist","setTimeout","document","getElementsByTagName","value","init","Btns","getElementById","onclick"],"mappings":"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","file":"task-08.js","sourcesContent":["/**\n * Created by shi on 2017/4/5.\n */\n\n'use strict';\n\nwindow.onload = function () {\n\n    var timer = null,\n        BFindex = 0,//广度优先遍历自增标识符\n        lock = true;\n\n\n    //深度遍历\n    function traverseDF(node,nodeArr) {\n        if(node){\n            nodeArr.push(node);\n            for(let i = 0;i <  node.children.length;i++){\n                traverseDF(node.children[i],nodeArr);\n            }\n        }\n        \n    }\n\n    //广度遍历\n    function traverseBF(node,nodeArr) {\n        if(node){\n            nodeArr.push(node);\n            traverseBF(node.nextElementSibling,nodeArr);\n            node = nodeArr[BFindex++];\n            traverseBF(node.firstElementChild,nodeArr);\n\n        }\n    }\n\n\n    //动画\n    function setAction(arr,key,iskey) {\n        let i = 0,\n            gotIt = true;\n        timer = setInterval(function () {\n            if(i > arr.length -1 ){\n                arr[arr.length -1].className = \"default\";\n                arr[arr.length -1].style.transform = \"scale(1)\";\n                clearInterval(timer);\n                lock = true;\n                if(iskey && gotIt){\n                    alert('没有哦，亲！！！');\n                }\n            }\n            else {\n                if(i > 0){\n                    arr[i-1].className = '#default';\n                    arr[i-1].style.transform = \"scale(1)\";\n                }\n                arr[i].className = 'active';\n                arr[i].style.transform = \"scale(1.1)\";\n                //搜索\n\n                if(iskey&&arr[i].firstChild.nodeValue.replace(/(^\\s*)|(\\s*$)/g,\"\") === key){  //去字符串两边空格\n                    arr[i].className = 'found';\n                    clearInterval(timer);\n                    lock = true;\n                    gotIt = false;\n                }\n\n\n            }\n            i++;\n        },500);\n\n    }\n\n  //btn事件\n    function traverse(traverseIndex,rootNode){\n        let Nodelist = [],\n            key = '';\n        lock = false;\n\n        switch(traverseIndex){\n            case 0:traverseDF(rootNode,Nodelist);\n                setTimeout(setAction(Nodelist,key),500);\n                break;\n            case 1:BFindex = 0;\n                traverseBF(rootNode,Nodelist);\n                setTimeout(setAction(Nodelist,key),500);\n                break;\n            case 2: key = document.getElementsByTagName(\"input\")[0].value;\n                traverseDF(rootNode,Nodelist);\n                setTimeout(setAction(Nodelist,key,true),500);\n                break;\n            case 3:BFindex = 0;\n                key = document.getElementsByTagName(\"input\")[0].value;\n                traverseBF(rootNode,Nodelist);\n                setTimeout(setAction(Nodelist,key,true),500);\n                break;\n        }\n    }\n\n\n    function init() {\n        let Btns = document.getElementsByTagName(\"button\"),\n            rootNode = document.getElementById(\"root\");\n\n        for(let i=0;i<Btns.length;i++){\n            (function(i){\n                Btns[i].onclick = function(){\n                    if(lock){\n                        traverse(i,rootNode);\n                    }\n                    else {\n                        window.alert(\"正在遍历中。。。,不要打扰我\");\n                    }\n                };\n            }(i));\n        }\n\n    }\n\n    init();\n\n\n\n}\n"]}